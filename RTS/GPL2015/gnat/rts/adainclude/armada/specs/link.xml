<?xml version="1.0" ?>

<gprconfig>
  <configuration>
   <config>

   package Linker is

      Loader := external ("LOADER");

      Runtime_Loader := PROFILE_SUBPROFILE &amp; "-" &amp; FLOAT &amp; "-" &amp; CODE &amp; "-" &amp; CPU &amp; "-" &amp; FPU &amp; "-" &amp; IMPLEMENTATION &amp; "/adalib";

      Path_To_Gcc  := "${PATH(ada)}../lib/gcc/arm-eabi/4.9.3/";

      case CODE is
         when "arm"  => Path_To_Gcc := Path_To_Gcc &amp; "arm/";
         when others =>
      end case;

      case FLOAT is
         when "hard" => Path_To_Gcc := Path_To_Gcc &amp; "fpu/";
         when others =>
      end case;

      case ENDIAN is
         when "big-endian" => Path_To_Gcc := Path_To_Gcc &amp; "be/";
         when others =>
      end case;

      for Required_Switches use Linker'Required_Switches &amp;
        ("-L${RUNTIME_DIR(ada)}/adalib", "-larch", "-T", Loader &amp; ".ld") &amp;
        ("-L${RUNTIME_DIR(ada)}/../" &amp; Runtime_Loader, "-lgnat", "-lgnarl") &amp;
        ("-L" &amp; Path_to_Gcc, "-nostdlib", "-lgcc");

      case Loader is

         when "flash" | "monitor" | "hiram" | "loram" =>
            for Required_Switches use Linker'Required_Switches &amp;
               ("-Wl,-z,max-page-size="&amp;MAX_PAGE_SIZE);

         when others =>

       end case;

   end Linker;

   </config>
  </configuration>
</gprconfig>
